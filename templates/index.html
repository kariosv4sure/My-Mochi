<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mochi Edition ğŸ’–âœ¨</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <h1>ğŸ’– Collins & Mochi ğŸ’–</h1>
  <div id="confession">Click the heart ğŸ’– to see my thoughts...</div>
  <button class="heart-btn" id="heartBtn">ğŸ’–</button>
  <div id="instructions">Keep clicking for vibes & magic ğŸ”¥âœ¨ğŸ</div>

  <!-- Background Music -->
  <audio id="bgMusic" loop>
    <source src="{{ url_for('static', filename='Medusa.mp3') }}" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <script>
    const music = document.getElementById("bgMusic");
    music.volume = 0.2;

    const messages = [
      // --- Medusa lyrics snippets with emojis (~50 messages)
      "You got that kind of glare that makes me stop & stare ğŸ˜³âœ¨",
      "I know you're unaware, but girl, you take the air out of my lungs ğŸ˜ğŸ’«",
      "It isn't fair ğŸ˜”ğŸ’–",
      "I crumble into pieces when you're near ğŸ˜­ğŸ’”",
      "You're my Medusa ğŸğŸ’–",
      "I'm frozen every time I look at you, love â„ï¸ğŸ˜³",
      "Every night, I try to make a move ğŸŒ™ğŸ’Œ",
      "But it's like I always turn to stone, woah ğŸ˜±",
      "Just one look in your eyes, and I'm paralyzed  ğŸ˜³âœ¨",
      "Every time by you, love, my Medusa ğŸğŸ’–",
      "I wish I had the nerve to tell you how I feel ğŸ’Œ",
      "I wish I had the words, but when you're really here ğŸ˜µâ€ğŸ’«ğŸ’–",
      "I always play it off (Play it off) ğŸ˜âœ¨",
      "Why can't I talk? (Talk) ğŸ˜©ğŸ’«",
      "I crumble into pieces when you're near ğŸ˜­ğŸ’–",
      "You're my Medusa ğŸğŸ’«",
      "I'm frozen every time I look at you, love â„ï¸ğŸ’–",
      "Every night, I try to make a move ğŸŒ™âœ¨",
      "Just one look in your eyes, and I'm paralyzed  ğŸ˜³ğŸ’–",
      "Every time by you, love, my Medusa ğŸğŸ’«",
      "Ooh-ooh-ooh-ooh-ooh-ooh-ooh ğŸ¶ğŸ’–",
      "My Medusa ğŸâœ¨",
      "Ooh-ooh-ooh-ooh-ooh ğŸµğŸ’«",
      "Just one look in your eyes, and I'm paralyzed  ğŸ˜³ğŸ’–",
      "Every time by you, love, my Medusa ğŸğŸ’«",
      // --- Original Mochi messages with emojis
      "You make my day every time I think of you ğŸŒ¸ğŸ’–",
      "Even when we're apart, your vibe stays with me âœ¨ğŸ’«",
      "Every laugh with you feels like magic ğŸ˜‹ğŸ’–",
      "Your smile is my favorite notification ğŸ˜ŒğŸ’Œ",
      "I catch myself thinking of you at random times ğŸ’–ğŸ˜³",
      "Being around you feels like home ğŸ¡ğŸ’«",
      "Youâ€™re the plot twist I didnâ€™t see coming ğŸ˜ğŸ’–",
      "If vibes were hearts, Iâ€™d be full of you ğŸ’âœ¨",
      "Even ordinary days feel special with you ğŸŒ…ğŸ’–",
      "Your voice is my favorite melody ğŸ¶ğŸ’«",
      "I never thought someone could get me like you do ğŸ˜³ğŸ’–",
      "Every message from you is a mini celebration ğŸ‰ğŸ’Œ",
      "You make my lazy days feel exciting ğŸ˜ğŸ’–",
      "Just thinking of you makes me grin like a fool ğŸ˜âœ¨",
      "Youâ€™re the reason my brain sometimes forgets to function ğŸ˜ŒğŸ’«",
      "Our chats are my favorite kind of adventure ğŸŒŒ ğŸ’–",
      "Even coffee tastes better when I imagine sharing it with you â˜•ğŸ’œ",
      "Youâ€™re the calm in my chaos ğŸ’«ğŸ’–",
      "Every little thing about you is somehow perfect ğŸ˜âœ¨",
      "I just likeâ€¦ you. Thatâ€™s it. Plain and simple ğŸ˜ğŸ’–",
      "You make my heart do random happy dances ğŸ’ƒğŸ’«",
      "Thinking of you is my favorite distraction ğŸ˜ğŸ’–",
      "I wish I could bottle up your energy and carry it everywhere ğŸŒŸâœ¨",
      "Youâ€™re my favorite notification ğŸ””ğŸ’–",
      "Life feels brighter with you in my mind ğŸ’¡ğŸ’œ",
      "Even a dull day feels like a K-drama scene with you ğŸ¬ğŸ’«",
      "Your laugh? Instant mood lifter ğŸ˜‚âœ¨",
      "You make small moments feel enormous ğŸ’ğŸ’–",
      "I never knew I could feel this giddy over texts ğŸ˜³ğŸ’«",
      "Youâ€™re the kind of person who makes everything better ğŸ’–âœ¨"
    ];

    let index = 0;
    const confessionEl = document.getElementById("confession");
    const heartBtn = document.getElementById("heartBtn");
    let musicStarted = false;

    heartBtn.addEventListener("click", () => {
      if (!musicStarted) {
        music.play().catch(err => console.log("Autoplay blocked"));
        musicStarted = true;
      }

      confessionEl.classList.remove("show");
      setTimeout(() => {
        confessionEl.textContent = messages[index];
        confessionEl.classList.add("show");

        if (index >= messages.length - 5) {
          confessionEl.style.animation = "pulse 1s infinite alternate";
          triggerConfetti();
          subtleShake();
        } else {
          confessionEl.style.animation = "";
        }

        index = (index + 1) % messages.length;
      }, 300);

      for (let i = 0; i < 10; i++) {
        const heart = document.createElement("div");
        heart.classList.add("heart");
        heart.innerHTML = "ğŸ’–";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.top = Math.random() * 100 + "vh";
        heart.style.animationDuration = 2 + Math.random() * 2 + "s";
        heart.style.transform = `rotate(${Math.random()*360}deg) scale(${0.5+Math.random()})`;
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 4000);
      }
    });

    function triggerConfetti() {
      for (let i = 0; i < 20; i++) {
        const confetti = document.createElement("div");
        confetti.textContent = "âœ¨ğŸ’«ğŸŒ¸";
        confetti.style.position = "absolute";
        confetti.style.left = Math.random() * 100 + "vw";
        confetti.style.top = Math.random() * 100 + "vh";
        confetti.style.fontSize = (10 + Math.random()*20) + "px";
        confetti.style.opacity = Math.random();
        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 4000);
      }
    }

    function subtleShake() {
      const originalStyle = document.body.style.transform;
      let i = 0;
      const shakeInterval = setInterval(() => {
        const x = (Math.random() - 0.5) * 5;
        const y = (Math.random() - 0.5) * 5;
        document.body.style.transform = `translate(${x}px, ${y}px)`;
        i++;
        if (i > 5) {
          clearInterval(shakeInterval);
          document.body.style.transform = originalStyle;
        }
      }, 50);
    }

    document.addEventListener("mousemove", (e) => {
      const sparkle = document.createElement("div");
      sparkle.textContent = "âœ¨";
      sparkle.className = "sparkle";
      sparkle.style.left = e.pageX + "px";
      sparkle.style.top = e.pageY + "px";
      document.body.appendChild(sparkle);
      setTimeout(() => sparkle.remove(), 800);
    });
  </script>
</body>
</html>
